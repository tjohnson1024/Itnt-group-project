"""
ITNT Group Project - Cybersecurity Tool
Author: Ta'Ron Johnson
"""

import re
import random
import string


def generate_password():
    """Ask the user for a length and print a random password."""
    print("\n--- Password Generator ---")

    # keep asking until the user types a valid number
    while True:
        length_str = input("Enter password length (min 8): ")

        if not length_str.isdigit():
            print("Please type a number, not words.")
            continue

        length = int(length_str)

        if length < 8:
            print("Password too short, try again.")
            continue

        break

    # character pool: letters, digits and some symbols
    pool = string.ascii_letters + string.digits + "!@#$%^&*"

    password = ""
    for _ in range(length):
        password += random.choice(pool)

    print("Generated password:", password)


def find_contacts():
    """Read a file and look for emails and phone numbers."""
    print("\n--- Email & Phone Finder ---")
    filename = input("Enter filename (ex: test.txt): ").strip()

    try:
        with open(filename, "r", encoding="utf-8") as f:
            text = f.read()
    except FileNotFoundError:
        print("File not found. Make sure the name is correct.")
        return

    # basic patterns (we're keeping them simple on purpose)
    email_pattern = r"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
    phone_pattern = r"\b\d{3}[-.\s]?\d{3}[-.\s]?\d{4}\b"

    emails = re.findall(email_pattern, text)
    phones = re.findall(phone_pattern, text)

    if emails:
        print("\nEmails found:")
        for e in emails:
            print(" -", e)
    else:
        print("\nNo emails found.")

    if phones:
        print("\nPhone numbers found:")
        for p in phones:
            print(" -", p)
    else:
        print("\nNo phone numbers found.")


def main():
    """Simple menu to choose which tool to run."""
    while True:
        print("\n=== Cybersecurity Tool ===")
        print("1) Generate Password")
        print("2) Find Emails & Phone Numbers")
        print("3) Exit")

        choice = input("Choose option (1-3): ").strip()

        if choice == "1":
            generate_password()
        elif choice == "2":
            find_contacts()
        elif choice == "3":
            print("Goodbye.")
            break
        else:
            print("Invalid choice, pick 1, 2, or 3.")


if __name__ == "__main__":
    main()
